/* Source file made available under Mozilla Public License v. 2.0
   See the main repository for updates as well as full license text.
   https://github.com/Godiesc/firefox-gx */

/* Estilos gerais para botões de controle de janela */
.titlebar-button {
  background: transparent no-repeat center !important;
  background-size: 10px 10px !important;
  list-style-image: none !important;
  opacity: 0.7;
}

.titlebar-min {
  list-style-image: url("../icons/minimize.svg") !important;
}

.titlebar-max,
.titlebar-restore {
  list-style-image: url("../icons/maximize.svg") !important;
}

.titlebar-close {
  list-style-image: url("../icons/close.svg") !important;
}

/* WindowsOS - Window Control Icons */
@media (-moz-platform: windows) {
  .titlebar-button {
    color: var(--general-color) !important;
    padding-inline: 8px !important;
    -moz-context-properties: stroke !important;
    stroke: currentColor !important;
  }

.titlebar-button {
  transition: background-color 0.2s ease, border-radius 0.2s ease;
}

.titlebar-button:hover {
  background-color: hsla(180, 1%, 33%, 0.15) !important;
  border-radius: 999px; /* borda totalmente arredondada */
  padding: 2px; /* se quiser que o fundo arredondado fique mais visível */
}

  /* Ajuste para botões em janelas não maximizadas */
  :root:has(#toolbar-menubar[autohide="true"]) .titlebar-buttonbox {
    height: calc(
      var(--tab-height-personal) - 1px + var(--windowed-top-padding, 0px) +
        var(--my-tab-margin-top)
    ) !important;
    margin-top: calc(0px - var(--windowed-top-padding, 0px)) !important;
  }

  /* Reduzindo tamanho dos ícones */
  .titlebar-min image,
  .titlebar-max image,
  .titlebar-restore image,
  .titlebar-close image {
    border-radius: 0 !important;
    height: 16px !important;
    width: 16px !important;
  }

  /* Hover effect para temas com imagens */
  :root:is([lwtheme-image], [style*="--lwt-additional-images"])
    .titlebar-button:hover:not(.titlebar-close) {
    background-color: var(--toolbarbutton-hover-personal) !important;
    color: var(--general-color) !important;
  }

  /* Ajuste para botões em configurações específicas */
  @media (not (-moz-bool-pref: "firefoxgx.oneline")) and (not (-moz-bool-pref: "firefoxgx.tree-tabs")) and (not (-moz-bool-pref: "sidebar.verticalTabs")) {
    .titlebar-min {
      padding-block: 0 !important;
    }
  }
}

/* Linux - Window Control Icons */
@media (-moz-platform: linux) {
  .titlebar-button {
    appearance: none !important;
  }

  .titlebar-button > .toolbarbutton-icon {
    appearance: auto !important;
    background: none !important;
    width: unset !important;
    height: unset !important;
  }

  .titlebar-min > .toolbarbutton-icon {
    -moz-default-appearance: -moz-window-button-minimize !important;
  }

  .titlebar-max > .toolbarbutton-icon {
    -moz-default-appearance: -moz-window-button-maximize !important;
  }

  .titlebar-restore > .toolbarbutton-icon {
    -moz-default-appearance: -moz-window-button-restore !important;
  }

  .titlebar-close > .toolbarbutton-icon {
    -moz-default-appearance: -moz-window-button-close !important;
  }

  .titlebar-buttonbox {
    min-height: calc(
      var(--tab-block-margin-personal) * 2 + var(--tab-height-personal)
    ) !important;
    max-height: calc(
      var(--tab-block-margin-personal) * 2 + var(--tab-height-personal)
    ) !important;
  }
}

/* Linux - Reversed Placement */
@media (-moz-gtk-csd-reversed-placement) {
  .titlebar-buttonbox-container {
    margin-inline: 2px 8px !important;
  }
}
